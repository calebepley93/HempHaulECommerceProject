<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./styles.css" />
    <title>Hemp Haul CBD Solutions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" 
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer" 
   />
  </head>
  <body>
    <header class="header">
        <div class="logo">
          <img src="./Logo.jpg">
        </div>
        <p class="navbarelement"><a href="./index.html">Home</a></p>
        <p class="navbarelement"><a href = "shop.html">Shop</a></p>
        <p class="navbarelement"><a href = "./aboutus.html">About</a></p>
        <p class="navbarelement">Contact</p>
        <div class="cartIconContainer">
          <a href="./cart.html" class="cartIcon">
            <i class="fas fa-shopping-cart"><span class="cart-count"></span></i>
            <p class="emptyCartMessage2">Your cart is empty.</p>
            <div class="dropdown-content">
              <div class="product-Info">
                <img class="dropImg">
                <div class="productValues">
                 <a class="nameValues">Product name</a>
                 <span class="QPvalues">(val - product quantity) x ProductPrice</span>
                </div>
                <button>X</button>
              </div>
              <p class="dropdownSubtotal">Subtotal: (price of all quanitity * products in cart)</p>
              <div class="dropdownButtons">
                <a href="cart.html" class="dropdownCartButton">View Cart</a>
                <a href="checkout.html" class="dropdownCheckOutButton">Check Out</a>
              </div>
            </div>
          </a>
        </div>
      </header>
    <div class="contactImg">
        <div class="opaque-background3"></div>
        <div class="overlayText4">
            <h1 class="contactHeader">Contact Us</h1>
            <p><a href="./index.html">Home</a> > Contact Us</p>
        </div>
    </div>
    <section class="contactSection">
        <p class="contQues"><i class="fa fa-question"></i>  Have questions about Hemp Haul, our products, a recent purchase, or anything cannabis-related? Give us a call or send us a message! We’ll try our best to respond within 24 hours, but please be patient with us if it takes a bit longer…</p>
        <div class="contactFlexAlign">
        <div class="phoneContainer">
          <div class="phone">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-phone fa-stack-1x fa-inverse"></i>
            </span>
            <h2>Give Us a Call</h2>
         </div>
          <p class="phoneNum">(555) 123 4567</p>
        </div>
        <div class="contactField">
            <div class="sendMessage">
                <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="far fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                </span>
                <h2>Send Us a Message</h2>  
            </div>
            <div class="names">
                <div>
                    <p class="names2">First name*</p>
                    <input class="nameinput">
                </div>
                <div>
                    <p class="names2">Last Name*</p>
                    <input class="nameinput">
                </div>
            </div>
            <p class = "emailForm">Email*</p>
            <input class="emailInput">
            <p class="helpText">How can we help you?</p>
            <select id="help" name="help">
              <option value="">Select an option...</option>
              <option value=""></option>
              <option value="help">I'm a customer who needs help with an order</option>
              <option value="qs">I'm a customer who has questions about your products</option>
              <option value="vendor">I'm a vendor who like to connect with you</option>
              <option value="other">Other (please specify below)</option>
            </select>
            <p class="message">Message*</p>
            <textarea class="messageText"></textarea>
            <form action="/action_page.php">
              <input type="file" id="myFile" name="filename">
            </form>
            <input type="submit" value="Submit" class="contactSubmit">
        </div>
        </div>
    </section>
    <div class="emailform">
        <img src="./airplane.png" alt="Paper Airplane" class="airplane-img">
        <p class="promo-text">Want to receive discounts, promos, special offers, and 20% off your next purchase?</p>
        <input type="text" id="email-field" placeholder="Enter your email...">
        <button class="signup-button">Sign up</button>
    </div>
    <div class="body4">
      <img src="./Logo.jpg" alt="logo" class="logo3">
      <h1 class="indexh1">Hemp Haul</h1>
      <p class="centered-text1">Our mission is to serve the highest quality cannabis products online. Shop CBD, CBC, CBG, CBN, Delta-8-THC, Delta-9-THC, Delta-10-THC, HHC, and High-THCa products with confidence. Customer Satisfaction is of the highest importance. Please don’t hesitate to reach out. Thanks for shopping Hemp Haul!</p>
      <hr class="divider">
      <p class="right-aligned-text">Disclaimer: HempHaul will not be held responsible for any claims or testimonials regarding medical efficacy of any of our products. The FDA (Food and Drug Administration) has not evaluated any of these statements, nor have the claims been confirmed by FDA-acknowledged research. Neither our staff nor our products are intended to diagnose, cure, prevent, or treat any disease or medical condition. Please consult your physician before including any of our products in your wellness plan.</p>
      <p class="copyright">Hemp Haul © 2023. All Rights Reserved.</p>
   </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        updateCartDropdown();
        updateCartCount();
      });
    
      document.querySelector('.add-to-cart-btn').addEventListener('click', function() {
        // get product info
        var productName = document.querySelector('.productHeader').innerText;
        var productPrice = document.querySelector('.productPrice').innerText;
        var productImgSrc = document.querySelector('.zoom-container img').src;
        var productQuantity = document.querySelector('.quantity').value; // get quantity value
      
        var productPriceNumber = parseFloat(productPrice.replace('$', ''));  // convert the price to a number
      
        var product = {
          name: productName,
          price: productPriceNumber,
          quantity: parseInt(productQuantity),  // set quantity from input
          imgSrc: productImgSrc
        };
      
        addToCart(product);
      });
      
      
    
        function addToCart(product) {
            // get the current cart from localStorage
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
        
            // check if product already exists in the cart
            var existingProduct = cart.find(function(item) {
                return item.name === product.name;
            });
        
            if (existingProduct) {
                // if product exists, increment quantity
                existingProduct.quantity += product.quantity;
            } else {
                // if product doesn't exist, add it to the cart
                cart.push(product);
            }
        
            // store the updated cart back into localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDropdown();
        }
    
        function updateCartCount() {
          var cart = JSON.parse(localStorage.getItem('cart')) || [];
          var totalQuantity = cart.reduce(function(total, item) {
            return total + item.quantity;
          }, 0);
        
          document.querySelector('.cart-count').innerText = totalQuantity;
        }
    
    
        function createCartItemHTML(product) {
          return `
          <div class="product-Info">
            <div class="product-details">
            <img src="${product.imgSrc}" alt="${product.name}">
            <div class="productValues">
              <a href="#" class="nameValues">${product.name}</a>
              <span class="QPvalues">${product.quantity} x $${product.price}</span>
            </div>
          </div>
            <button class="remove-item" data-product="${product.name}">X</button>
          </div>
          `;
        }
    
        function updateCartDropdown() {
          // get cart from local storage
          var cart = JSON.parse(localStorage.getItem('cart')) || [];
        
          // get dropdown content element
          var dropdownContent = document.querySelector('.dropdown-content');
        
          // clear previous cart items from the dropdown
          dropdownContent.innerHTML = '';
        
          // get the empty message element
          var emptyMessage = document.querySelector('.emptyCartMessage2');
        
          // check if the cart is empty
          if (cart.length === 0) {
            // if the cart is empty, show the empty message and return early to exit the function
            dropdownContent.innerHTML = '<p class="emptyMessage2">Your cart is empty.</p>';
          } else {
            // create HTML for each product in the cart
            cart.forEach(function(product) {
              var productHTML = createCartItemHTML(product);
              dropdownContent.innerHTML += productHTML;
            });
        
            // calculate and display total price
            var totalPrice = cart.reduce(function(sum, product) {
              return sum + product.price * product.quantity;
            }, 0);
        
            dropdownContent.innerHTML += `<p class="dropdownSubtotal">Subtotal: $${totalPrice.toFixed(2)}</p>`;
          
            var dropdownButtons = document.createElement('div');
            dropdownButtons.className = 'dropdownButtons';
            dropdownButtons.innerHTML = `
              <a href="cart.html" class="dropdownCartButton">View Cart</a>
              <a href="checkout.html" class="dropdownCheckOutButton">Check Out</a>
            `;
            dropdownContent.appendChild(dropdownButtons);
          }
        }
        
        
        document.querySelector('.dropdown-content').addEventListener('click', function(event) {
          if (event.target.classList.contains('remove-item')) {
            var productName = event.target.dataset.product;
            removeFromCart(productName);
          }
        });
        
        function removeFromCart(productName) {
          var cart = JSON.parse(localStorage.getItem('cart')) || [];
          var updatedCart = cart.filter(function(product) {
            return product.name !== productName;
          });
          localStorage.setItem('cart', JSON.stringify(updatedCart));
          updateCartDropdown();
          updateCartCount();
        }
    </script>
  </body>
</html>