<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./styles.css" />
    <title>Hemp Haul CBD Solutions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" 
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer" 
   />
   <link rel="stylesheet" href="./Sandbox/largeheader.css">
   <link rel ="stylesheet" href = "./Sandbox/herosection.css">
   <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
   <link rel="stylesheet" href="./Sandbox/emailform.css">
   <link rel="stylesheet" href="./Sandbox/shopredo.css">
  </head>
  <body>
    <div id="overlay" class="overlay">
      <div class="closebtn">&times;</div>
      <ul class="overlay-content">
          <li><a href="./index.html">Home</a></li>
          <li><a href="./shop.html">Shop</a></li>
          <li><a href="./aboutus.html">About</a></li>
          <li><a href="./contact.html">Contact</a></li>
      </ul>
  </div>
  <header class="large-header">
    <div class="header-topline">
        <div class="follow-us">
        <span class="follow-text">Follow us:</span>
            <i class="fab fa-facebook-f"></i>
            <i class="fab fa-instagram"></i>
            <i class="fab fa-twitter"></i>
        </div>
        <div class="logo-img-cont">
            <img src="./Logo.webp" alt="hemphaullogo">
        </div>
        <div class="right-content">
            <i class="fas fa-search"></i>
        </div>
    </div>
    <nav class="header-lowline">
        <ul>
            <li class="nav-list"><a href="./index.html">Home</a></li>
            <li class="nav-list"><a href="./shop.html">Shop</a></li>
            <li class="nav-list"><a href="./aboutus.html">About</a></li>
            <li class="nav-list"><a href="./cart.html">Cart</a></li>
            <li class="nav-list"><a href="./contact.html">Contact</a></li>
        </ul>
    </nav>
  </header>
    <header class="header">
      <div class="iconsearch">
      <img src="./Logo.webp" class="logo">
      <i class="fas fa-search" id="search-icon"></i>
      <div id="search-overlay" class="search-overlay">
          <input type="text" class="search-input" placeholder="Search..." />
          <div class="search-closebtn">&times;</div>
      </div>
      </div>
      <div class="cartHamburger"></div>
          <div class="cartIconContainer">
           <a href="./cart.html" class="cartIcon">
              <i class="fas fa-shopping-cart"><span class="cart-count"></span></i>
              <p class="emptyCartMessage2">Your cart is empty.</p>
              <div class="dropdown-content">
                <div class="product-Info">
                  <img class="dropImg">
                  <div class="productValues">
                   <a class="nameValues">Product name</a>
                   <span class="QPvalues">(val - product quantity) x ProductPrice</span>
                  </div>
                  <button>X</button>
                </div>
                <p class="dropdownSubtotal">Subtotal: (price of all quanitity * products in cart)</p>
                <div class="dropdownButtons">
                  <a href="cart.html" class="dropdownCartButton">View Cart</a>
                  <a href="checkout.html" class="dropdownCheckOutButton">Check Out</a>
              </div>
          </div>
        </a>
      </div>
      </div>
      <div class="hamburger-menu" id="hamburger-menu">
          <div class="line"></div>
          <div class="line"></div>
          <div class="line"></div>
      </div>
      </div>
    </header>
    <div class="swiper-container">
      <div class="swiper-wrapper">
          <div class="swiper-slide" style="background-image:url('./biker1.png')">
              <div class="bottom-overlay-content">
                  <div class="centered-container">
                      <h1 class="titleClass">Hemp Haul</h1>
                      <p class="hero-tagline">Providing holistic CBD and Delta-8 products to promote a balanced lifestyle</p>
                      <a href="./shop.html"><button class="header-button-class">Shop All Products</button></a>
                  </div>
              </div>
          </div>
          <div class="swiper-slide" style="background-image:url('./friends.png')">
              <div class="bottom-overlay-content">
                  <div class="centered-container">
                      <h1 class="titleClass">Hemp Haul</h1>
                      <p class="hero-tagline">Providing holistic CBD and Delta-8 products to promote a balanced lifestyle</p>
                      <a href="#"><button class="header-button-class">Shop All Products</button></a>
                  </div>
              </div>
          </div>
          <div class="swiper-slide" style="background-image:url('./hiker2.png')" >
              <div class="bottom-overlay-content">
                  <div class="centered-container">
                      <h1 class="titleClass">Hemp Haul</h1>
                      <p class="hero-tagline">Providing holistic CBD and Delta-8 products to promote a balanced lifestyle</p>
                      <a href="#"><button class="header-button-class">Shop All Products</button></a>
                  </div>
              </div>
          </div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
  </div>
      <div class="body2">
        <img src = "./hempleaf.webp" alt="hempleaf" class="hempleaf2">
        <div class="body2text">
         <h1 class="body2header">Hemp Haul</h1>
         <h2 class="body2sub">Premium Cannabis Products Online</h2>
         <p class="ptext">At Hemp Haul, we believe in the power of natural healing. We specialize in providing you with holistic CBD and Delta-8-THC products which promote a balanced lifestyle, an overall sense of well-being, and contribute toward total body wellness. We offer a variety of CBD and Delta-8-THC products, including various oils, tinctures, topicals, edibles, vape cartridges  containing concentrates and extracts which are procured from the cannabis plant. We even have smokable hemp flower.  Our online CBD and Delta-8-THC shop makes it easy to find exactly what you’re looking for and our friendly, passionate staff are happy to accommodate you and answer any questions you may have about cannabis products..</p>
        </div>
      </div>
      <section class="body3">
         <img src ="./hempleaf.webp" class="hempleaf2">
         <h1 class="body3header">Featured Cannabis Products</h1>
         <div class="product-grid">
          <div class="dummy-product">
              <div class="dummy-product-img-cont">
                  <img src="./cbdproduct1.webp">
              </div>
              <h2 style="font-weight:normal" class="prodTxt">DeltaDaze Elixir</h2>
              <p class="prodTxt1">$34.95</p>
              <a href="./Product1.html" class="buy-button1">View Product</a>
          </div>
          <div class="dummy-product">
              <div class="dummy-product-img-cont">
                  <img src="./cbdproduct2.webp">
              </div>
              <h2 style="font-weight:normal" class="prodTxt">DeltaHarmony Tonic</h2>
              <p class="prodTxt1">$24.95</p>
              <a href="./Product2.html" class="buy-button1">View Product</a>
          </div>
          <div class="dummy-product">
              <div class="dummy-product-img-cont">
                  <img src="./cbdproduct3.webp">
              </div>
              <h2 style="font-weight:normal" class="prodTxt">TranquilDelta Synergy</h2>
              <p class="prodTxt1">$19.95</p>
              <a href="./Product3.html" class="buy-button1">View Product</a>
          </div>
          <div class="dummy-product">
              <div class="dummy-product-img-cont">
                  <img src="./cbdproduct4.webp">
              </div>
              <h2 style="font-weight:normal" class="prodTxt">SereneDelta Essence</h2>
              <p class="prodTxt1">$44.95</p>
              <a href="./Product4.html" class="buy-button1">View Product</a>
          </div>  
      </div>
      </section>
      <section class="email-form">
        <div class="plane-text">
            <div class="email-img-container">
                <img src="./Sandbox/airplane.png" alt="send">
            </div>
            <p class="promo-text">Want to receive discounts, promos, special offers, and 20% off your next purchase?</p>
        </div>
        <div class="email-sign">
            <input type="text" id="email-field" placeholder="Enter your email...">
            <button class="signup-button">Sign up</button>
        </div>
      </section>
      <div class="body4">
        <div class="body-4-logo-wrapper">
         <img src="./Logo.webp" alt="logo" class="logo3">
        </div>
         <p class="centered-text1">Our mission is to serve the highest quality cannabis products online. Shop CBD, CBC, CBG, CBN, Delta-8-THC, Delta-9-THC, Delta-10-THC, HHC, and High-THCa products with confidence. Customer Satisfaction is of the highest importance. Please don’t hesitate to reach out. Thanks for shopping Hemp Haul!</p>
         <div class="socialIcons">
          <i class="fab fa-facebook-f"></i>
          <i class="fab fa-instagram"></i>
          <i class="fab fa-twitter"></i>
         </div>
         <hr class="divider">
         <p class="right-aligned-text">Disclaimer: HempHaul will not be held responsible for any claims or testimonials regarding medical efficacy of any of our products. The FDA (Food and Drug Administration) has not evaluated any of these statements, nor have the claims been confirmed by FDA-acknowledged research. Neither our staff nor our products are intended to diagnose, cure, prevent, or treat any disease or medical condition. Please consult your physician before including any of our products in your wellness plan.</p>
         <p class="copyright">Hemp Haul © 2023. All Rights Reserved.</p>
      </div>
      <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
      <script>

        document.addEventListener('DOMContentLoaded', (event) => {
          var swiper = new Swiper('.swiper-container', {
            effect: 'fade',
            speed: 1000,
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            autoplay: {
                delay: 3000,
                disableOnInteraction: false,
            },
          });
        });

        document.getElementById('hamburger-menu').addEventListener('click', function() {
          document.getElementById('overlay').style.width = '100%';
      });
      
      document.querySelector('.overlay').addEventListener('click', function() {
          document.getElementById('overlay').style.width = '0%';
      });

      let searchIcon = document.getElementById("search-icon");
      let searchOverlay = document.getElementById("search-overlay");
      let searchInput = document.querySelector('.search-input');
      let closeBtn = document.querySelector('.search-closebtn');
      
      searchIcon.addEventListener("click", function() {
          if(searchOverlay.style.visibility == "hidden" || searchOverlay.style.visibility == ""){
              searchOverlay.style.visibility = "visible";
              searchOverlay.style.height = "20vw"; // this is added
              searchInput.value = ''; // reset input value
              searchInput.focus(); // focus on input field
          } else {
              searchOverlay.style.visibility = "hidden";
              searchOverlay.style.height = "0"; // this is added
          }
      });
      
      closeBtn.addEventListener('click', function() {
          searchOverlay.style.visibility = "hidden";
          searchOverlay.style.height = "0"; // this is added
      });
      


        document.addEventListener('DOMContentLoaded', function() {
          updateCartDropdown();
          updateCartCount();
        });
      
        document.querySelector('.add-to-cart-btn').addEventListener('click', function() {
          // get product info
          var productName = document.querySelector('.productHeader').innerText;
          var productPrice = document.querySelector('.productPrice').innerText;
          var productImgSrc = document.querySelector('.zoom-container img').src;
          var productQuantity = document.querySelector('.quantity').value; // get quantity value
        
          var productPriceNumber = parseFloat(productPrice.replace('$', ''));  // convert the price to a number
        
          var product = {
            name: productName,
            price: productPriceNumber,
            quantity: parseInt(productQuantity),  // set quantity from input
            imgSrc: productImgSrc
          };
        
          addToCart(product);
        });
        
        
      
          function addToCart(product) {
              // get the current cart from localStorage
              var cart = JSON.parse(localStorage.getItem('cart')) || [];
          
              // check if product already exists in the cart
              var existingProduct = cart.find(function(item) {
                  return item.name === product.name;
              });
          
              if (existingProduct) {
                  // if product exists, increment quantity
                  existingProduct.quantity += product.quantity;
              } else {
                  // if product doesn't exist, add it to the cart
                  cart.push(product);
              }
          
              // store the updated cart back into localStorage
              localStorage.setItem('cart', JSON.stringify(cart));
              updateCartCount();
              updateCartDropdown();
          }
      
          function updateCartCount() {
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
            var totalQuantity = cart.reduce(function(total, item) {
              return total + item.quantity;
            }, 0);
          
            document.querySelector('.cart-count').innerText = totalQuantity;
          }
      
      
          function createCartItemHTML(product) {
            return `
            <div class="product-Info">
              <div class="product-details">
              <img src="${product.imgSrc}" alt="${product.name}">
              <div class="productValues">
                <a href="#" class="nameValues">${product.name}</a>
                <span class="QPvalues">${product.quantity} x $${product.price}</span>
              </div>
            </div>
              <button class="remove-item" data-product="${product.name}">X</button>
            </div>
            `;
          }
      
          function updateCartDropdown() {
            // get cart from local storage
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
          
            // get dropdown content element
            var dropdownContent = document.querySelector('.dropdown-content');
          
            // clear previous cart items from the dropdown
            dropdownContent.innerHTML = '';
          
            // get the empty message element
            var emptyMessage = document.querySelector('.emptyCartMessage2');
          
            // check if the cart is empty
            if (cart.length === 0) {
              // if the cart is empty, show the empty message and return early to exit the function
              dropdownContent.innerHTML = '<p class="emptyMessage2">Your cart is empty.</p>';
            } else {
              // create HTML for each product in the cart
              cart.forEach(function(product) {
                var productHTML = createCartItemHTML(product);
                dropdownContent.innerHTML += productHTML;
              });
          
              // calculate and display total price
              var totalPrice = cart.reduce(function(sum, product) {
                return sum + product.price * product.quantity;
              }, 0);
          
              dropdownContent.innerHTML += `<p class="dropdownSubtotal">Subtotal: $${totalPrice.toFixed(2)}</p>`;
            
              var dropdownButtons = document.createElement('div');
              dropdownButtons.className = 'dropdownButtons';
              dropdownButtons.innerHTML = `
                <a href="cart.html" class="dropdownCartButton">View Cart</a>
                <a href="checkout.html" class="dropdownCheckOutButton">Check Out</a>
              `;
              dropdownContent.appendChild(dropdownButtons);
            }
          }
          
          
          document.addEventListener('click', function(event) {
            if (event.target.classList.contains('remove-item')) {
              var productName = event.target.dataset.product;
              removeFromCart(productName);
            }
          });
          
          function removeFromCart(productName) {
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
            var updatedCart = cart.filter(function(product) {
              return product.name !== productName;
            });
            localStorage.setItem('cart', JSON.stringify(updatedCart));
            updateCartDropdown();
            updateCartCount();
          };
      </script>
  </body>