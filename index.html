<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./styles.css" />
    <title>Hemp Haul CBD Solutions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" 
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer" 
   />
  </head>
  <body>
    <header class="header">
      <div class="logo">
        <img src="./Logo.jpg">
      </div>
      <p class="navbarelement">Home</p>
      <p class="navbarelement"><a href = "shop.html">Shop</a></p>
      <p class="navbarelement"><a href = "./aboutus.html">About</a></p>
      <p class="navbarelement"><a href="./contact.html">Contact</a></p>
      <div class="cartIconContainer">
        <a href="./cart.html" class="cartIcon">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count"></span>
          <p class="emptyCartMessage2">Your cart is empty.</p>
          <div class="dropdown-content">
            <div class="product-Info">
              <img class="dropImg">
              <div class="productValues">
               <a class="nameValues">Product name</a>
               <span class="QPvalues">(val - product quantity) x ProductPrice</span>
              </div>
              <button>X</button>
            </div>
            <p class="dropdownSubtotal">Subtotal: (price of all quanitity * products in cart)</p>
            <div class="dropdownButtons">
              <a href="cart.html" class="dropdownCartButton">View Cart</a>
              <a href="checkout.html" class="dropdownCheckOutButton">Check Out</a>
            </div>
          </div>
        </a>
      </div>
      
    </header>
      <div class="body1 overlay">
        <div class="overlay-text">
          <h1 class="overlayHeader">Hemp Haul</h1>
          <p class="overlayP">Providing holistic CBD and Delta-8 products to promote a balanced lifestyle</p>
          <a href="shop.html" class="shop-button">Shop All Products</a>
        </div>
      </div>
      <div class="body2">
        <img src = "./hempleaf2.jpg" alt="hempleaf" class="hempleaf2">
        <div class="body2text">
         <h1 class="body2header">Hemp Haul</h1>
         <h2 class="body2sub">Premium Cannabis Products Online</h2>
         <p class="ptext">At Hemp Haul, we believe in the power of natural healing. We specialize in providing you with holistic CBD and Delta-8-THC products which promote a balanced lifestyle, an overall sense of well-being, and contribute toward total body wellness. We offer a variety of CBD and Delta-8-THC products, including various oils, tinctures, topicals, edibles, vape cartridges  containing concentrates and extracts which are procured from the cannabis plant. We even have smokable hemp flower.  Our online CBD and Delta-8-THC shop makes it easy to find exactly what you’re looking for and our friendly, passionate staff are happy to accommodate you and answer any questions you may have about cannabis products..</p>
        </div>
      </div>
      <div class="body3">
         <img src ="./hempleaf.png" class="hempleaf2">
         <h1 class="body3header">Featured Cannabis Products</h1>
         <div class="product-container">
          <a href="./Product1.html">
            <div class="product">
             <img src="./cbdproduct1.png">
             <p class="productTitle">DeltaDaze Elixir</p>
             <p class="productPrice1">$34.95</p>
             <a href="./Product1.html" class="buy-button">Buy Now</a>
           </div>
          </a>
          <a href="./Product2.html">
           <div class="product">
             <img src="./cbdproduct2.png">
             <p class="productTitle">DeltaHarmony Tonic</p>
             <p class="productPrice1">$24.95</p>
             <a href="./Product2.html" class="buy-button">Buy Now</a>
           </div>
           <hr class="dividerDisp">
          </a>
          <a href="./Product5.html">
           <div class="product">
             <img src="./cbdproduct5.png">
             <p class="productTitle">Heavenly Herbal Bliss Bites</p>
             <p class="productPrice1">$44.95</p>
             <a href="./Product5.html" class="buy-button">Buy Now</a>
           </div>
         </a>
          <a href="./Product6.html"><div class="product">
            <img src="./cbdproduct6.png">
            <p class="productTitle">The D8 Bakery Tranquil Treats</p>
            <p class="productPrice1">$19.95</p>
            <a href="./Product6.html" class="buy-button">Buy Now</a>
          </div></a>
        </div>
      </div>
      <div class="body4">
         <img src="./Logo.jpg" alt="logo" class="logo3">
         <h1 class="indexh1">Hemp Haul</h1>
         <p class="centered-text1">Our mission is to serve the highest quality cannabis products online. Shop CBD, CBC, CBG, CBN, Delta-8-THC, Delta-9-THC, Delta-10-THC, HHC, and High-THCa products with confidence. Customer Satisfaction is of the highest importance. Please don’t hesitate to reach out. Thanks for shopping Hemp Haul!</p>
         <hr class="divider">
         <p class="right-aligned-text">Disclaimer: HempHaul will not be held responsible for any claims or testimonials regarding medical efficacy of any of our products. The FDA (Food and Drug Administration) has not evaluated any of these statements, nor have the claims been confirmed by FDA-acknowledged research. Neither our staff nor our products are intended to diagnose, cure, prevent, or treat any disease or medical condition. Please consult your physician before including any of our products in your wellness plan.</p>
         <p class="copyright">Hemp Haul © 2023. All Rights Reserved.</p>
      </div>
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          updateCartDropdown();
          updateCartCount();
        });
      
        document.querySelector('.add-to-cart-btn').addEventListener('click', function() {
          // get product info
          var productName = document.querySelector('.productHeader').innerText;
          var productPrice = document.querySelector('.productPrice').innerText;
          var productImgSrc = document.querySelector('.zoom-container img').src;
          var productQuantity = document.querySelector('.quantity').value; // get quantity value
        
          var productPriceNumber = parseFloat(productPrice.replace('$', ''));  // convert the price to a number
        
          var product = {
            name: productName,
            price: productPriceNumber,
            quantity: parseInt(productQuantity),  // set quantity from input
            imgSrc: productImgSrc
          };
        
          addToCart(product);
        });
        
        
      
          function addToCart(product) {
              // get the current cart from localStorage
              var cart = JSON.parse(localStorage.getItem('cart')) || [];
          
              // check if product already exists in the cart
              var existingProduct = cart.find(function(item) {
                  return item.name === product.name;
              });
          
              if (existingProduct) {
                  // if product exists, increment quantity
                  existingProduct.quantity += product.quantity;
              } else {
                  // if product doesn't exist, add it to the cart
                  cart.push(product);
              }
          
              // store the updated cart back into localStorage
              localStorage.setItem('cart', JSON.stringify(cart));
              updateCartCount();
              updateCartDropdown();
          }
      
          function updateCartCount() {
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
            var totalQuantity = cart.reduce(function(total, item) {
              return total + item.quantity;
            }, 0);
          
            document.querySelector('.cart-count').innerText = totalQuantity;
          }
      
      
          function createCartItemHTML(product) {
            return `
            <div class="product-Info">
              <div class="product-details">
              <img src="${product.imgSrc}" alt="${product.name}">
              <div class="productValues">
                <a href="#" class="nameValues">${product.name}</a>
                <span class="QPvalues">${product.quantity} x $${product.price}</span>
              </div>
            </div>
              <button class="remove-item" data-product="${product.name}">X</button>
            </div>
            `;
          }
      
          function updateCartDropdown() {
            // get cart from local storage
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
          
            // get dropdown content element
            var dropdownContent = document.querySelector('.dropdown-content');
          
            // clear previous cart items from the dropdown
            dropdownContent.innerHTML = '';
          
            // get the empty message element
            var emptyMessage = document.querySelector('.emptyCartMessage2');
          
            // check if the cart is empty
            if (cart.length === 0) {
              // if the cart is empty, show the empty message and return early to exit the function
              dropdownContent.innerHTML = '<p class="emptyMessage2">Your cart is empty.</p>';
            } else {
              // create HTML for each product in the cart
              cart.forEach(function(product) {
                var productHTML = createCartItemHTML(product);
                dropdownContent.innerHTML += productHTML;
              });
          
              // calculate and display total price
              var totalPrice = cart.reduce(function(sum, product) {
                return sum + product.price * product.quantity;
              }, 0);
          
              dropdownContent.innerHTML += `<p class="dropdownSubtotal">Subtotal: $${totalPrice.toFixed(2)}</p>`;
            
              var dropdownButtons = document.createElement('div');
              dropdownButtons.className = 'dropdownButtons';
              dropdownButtons.innerHTML = `
                <a href="cart.html" class="dropdownCartButton">View Cart</a>
                <a href="checkout.html" class="dropdownCheckOutButton">Check Out</a>
              `;
              dropdownContent.appendChild(dropdownButtons);
            }
          }
          
          
          document.addEventListener('click', function(event) {
            if (event.target.classList.contains('remove-item')) {
              var productName = event.target.dataset.product;
              removeFromCart(productName);
            }
          });
          
          function removeFromCart(productName) {
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
            var updatedCart = cart.filter(function(product) {
              return product.name !== productName;
            });
            localStorage.setItem('cart', JSON.stringify(updatedCart));
            updateCartDropdown();
            updateCartCount();
          }
       
      </script>
  </body>