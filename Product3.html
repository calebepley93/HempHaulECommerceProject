<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./styles.css" />
    <link 
   rel="stylesheet" 
   href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" 
   integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" 
   crossorigin="anonymous" 
   referrerpolicy="no-referrer" 
  />
    <title>Hemp Haul CBD Solutions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./Sandbox/largeheader.css">
  <link rel="stylesheet" href="./Sandbox/emailform.css">
  </head>
  <header class="large-header">
    <div class="header-topline">
        <div class="follow-us">
        <span class="follow-text">Follow us:</span>
            <i class="fab fa-facebook-f"></i>
            <i class="fab fa-instagram"></i>
            <i class="fab fa-twitter"></i>
        </div>
        <div class="logo-img-cont">
            <img src="./Logo.webp" alt="hemphaullogo">
        </div>
        <div class="right-content">
            <i class="fas fa-search"></i>
        </div>
    </div>
    <nav class="header-lowline">
        <ul>
            <li class="nav-list"><a href="./index.html">Home</a></li>
            <li class="nav-list"><a href="./shop.html">Shop</a></li>
            <li class="nav-list"><a href="./aboutus.html">About</a></li>
            <li class="nav-list"><a href="./cart.html">Cart</a></li>
            <li class="nav-list"><a href="./contact.html">Contact</a></li>
        </ul>
    </nav>
  </header>
  <header class="header">
    <div class="iconsearch">
    <img src="./Logo.webp" class="logo">
    <i class="fas fa-search" id="search-icon"></i>
    <div id="search-overlay" class="search-overlay">
        <input type="text" class="search-input" placeholder="Search..." />
        <div class="search-closebtn">&times;</div>
    </div>
    </div>
    <div class="cartHamburger"></div>
        <div class="cartIconContainer">
         <a href="./cart.html" class="cartIcon">
            <i class="fas fa-shopping-cart"><span class="cart-count"></span></i>
            <p class="emptyCartMessage2">Your cart is empty.</p>
            <div class="dropdown-content">
              <div class="product-Info">
                <img class="dropImg">
                <div class="productValues">
                 <a class="nameValues">Product name</a>
                 <span class="QPvalues">(val - product quantity) x ProductPrice</span>
                </div>
                <button>X</button>
              </div>
              <p class="dropdownSubtotal">Subtotal: (price of all quanitity * products in cart)</p>
              <div class="dropdownButtons">
                <a href="cart.html" class="dropdownCartButton">View Cart</a>
                <a href="checkout.html" class="dropdownCheckOutButton">Check Out</a>
            </div>
        </div>
      </a>
    </div>
    </div>
    <div class="hamburger-menu" id="hamburger-menu">
        <div class="line"></div>
        <div class="line"></div>
        <div class="line"></div>
    </div>
    </div>
  </header>
  <body>
    <div id="overlay" class="overlay">
      <div class="closebtn">&times;</div>
      <ul class="overlay-content">
          <li><a href="./index.html">Home</a></li>
          <li><a href="./shop.html">Shop</a></li>
          <li><a href="./aboutus.html">About</a></li>
          <li><a href="./contact.html">Contact</a></li>
      </ul>
    </div>
  <div class="productShop">
    <div class="zoom-container">
        <span class="zoom" style="display: inline-block">
          <img src="./cbdproduct3.png">
        </span>
    </div>
   <div class="productDetails">
    <p><a href = "./index.html">Home</a> / <a href="./shop.html">Shop</a> / TranquilDelta Synergy</p>
    <h1 class="productHeader">TranquilDelta Synergy</h1>
    <p class="productPrice">$19.95</p>
    <p class="productStock">In stock and ready to ship!</p>
    <div class="productBuy">
     <form action="/add_to_cart" method="post">
         <input type="number" id="quantity" class="quantity" name="quantity" min="1" max="100" value="1"><br>
      </form>
      <button class="buy-button productButton add-to-cart-btn">Add to cart</button>
      </div>
      <p class="productClass">Category: Tinctures</p>
      <p>Brand: TranquilDelta Synergy</p>
    </div>
  </div>
  <div class="containerCont">
    <div class="container">
     <p id="description" class="interactive-text">Description</p>
     <p id="reviews" class="interactive-text">Reviews</p>
    </div>
   </div>
  <div id="description-content" class="content">
    <p class="description-content-p1">Description:</p>
    <p class="description-content-p">Introducing <b>DeltaTranquil Synergy</b>, a premium-grade Delta-8 THC tincture. This game-changing product seeks to deliver the perfect balance of relaxation and rejuvenation, handcrafted to offer a unique sense of tranquility and synchrony with your body and mind.</p>
    <p class="description-content-p">Each bottle of DeltaTranquil Synergy contains 30ml of our specially formulated tincture, infused with the finest quality Delta-8 THC distillate, sourced from organic hemp. It is enriched with a diverse profile of beneficial cannabinoids and terpenes, promising a full spectrum experience that enhances the sought-after 'entourage effect.'</p>
    <p class="description-content-p">Our Delta-8 Tincture stands out with its smooth, subtly sweet taste that makes your wellness routine an enjoyable experience. The easy-to-use dropper ensures precision, enabling you to tailor your Delta-8 dosage to your personal preference, be it a soothing evening relaxation or a gentle daytime uplift.</p>
    <p class="description-content-p">DeltaTranquil Synergy is third-party tested to guarantee purity, potency, and quality. We ensure the absence of harmful chemicals, metals, and pesticides. It's non-GMO, vegan-friendly, and gluten-free, crafted with respect for nature and your health.</p>
    <p class="description-content-p">Incorporate DeltaTranquil Synergy into your daily routine and discover a new facet of wellness. Its calming effects delicately bridge the gap between body and mind, helping you explore serenity and balance in your everyday life. Please remember, while Delta-8 THC has a lesser psychoactive effect than Delta-9 THC, it may still cause effects for some individuals. Always start with a small dose and increase gradually.</p>
    <p class="description-content-p last"><b>Note</b>: Delta-8 CBD may affect individuals differently and can induce relaxation. Use responsibly and seek advice from a healthcare professional prior to use. Not for use by individuals under the age of 21. Keep out of the reach of children.</p>
</div>
<div id="reviews-content" class="content" style="display: none;">
    <h2 class="reviews-content-h2">Reviews</h2>
    <p>There are no reviews yet.</p>
    <div class="loginBox">
      <p class="loginBox-p">Be the first to review "TranquilDelta Synergy."</p>
      <p class="loginBox-p">You must be <a href="./login">logged in</a> to post a review.</p>
    </div>
</div>
<section class="email-form">
  <div class="plane-text">
      <div class="email-img-container">
          <img src="./Sandbox/airplane.png" alt="send">
      </div>
      <p class="promo-text">Want to receive discounts, promos, special offers, and 20% off your next purchase?</p>
  </div>
  <div class="email-sign">
      <input type="text" id="email-field" placeholder="Enter your email...">
      <button class="signup-button">Sign up</button>
  </div>
</section>
  <div class="body4">
    <div class="body-4-logo-wrapper">
      <img src="./Logo.webp" alt="logo" class="logo3">
    </div>
    <p class="centered-text1">Our mission is to serve the highest quality cannabis products online. Shop CBD, CBC, CBG, CBN, Delta-8-THC, Delta-9-THC, Delta-10-THC, HHC, and High-THCa products with confidence. Customer Satisfaction is of the highest importance. Please don’t hesitate to reach out. Thanks for shopping Hemp Haul!</p>
    <div class="socialIcons">
      <i class="fab fa-facebook-f"></i>
      <i class="fab fa-instagram"></i>
      <i class="fab fa-twitter"></i>
     </div>
    <hr class="divider">
    <p class="right-aligned-text">Disclaimer: HempHaul will not be held responsible for any claims or testimonials regarding medical efficacy of any of our products. The FDA (Food and Drug Administration) has not evaluated any of these statements, nor have the claims been confirmed by FDA-acknowledged research. Neither our staff nor our products are intended to diagnose, cure, prevent, or treat any disease or medical condition. Please consult your physician before including any of our products in your wellness plan.</p>
    <p class="copyright">Hemp Haul © 2023. All Rights Reserved.</p>
 </div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-zoom/1.7.21/jquery.zoom.min.js"></script>
<script src="main.js"></script>
<script>


  document.getElementById('hamburger-menu').addEventListener('click', function() {
    document.getElementById('overlay').style.width = '100%';
});

document.querySelector('.overlay').addEventListener('click', function() {
    document.getElementById('overlay').style.width = '0%';
});

let searchIcon = document.getElementById("search-icon");
let searchOverlay = document.getElementById("search-overlay");
let searchInput = document.querySelector('.search-input');
let closeBtn = document.querySelector('.search-closebtn');

searchIcon.addEventListener("click", function() {
    if(searchOverlay.style.visibility == "hidden" || searchOverlay.style.visibility == ""){
        searchOverlay.style.visibility = "visible";
        searchOverlay.style.height = "20vw"; // this is added
        searchInput.value = ''; // reset input value
        searchInput.focus(); // focus on input field
    } else {
        searchOverlay.style.visibility = "hidden";
        searchOverlay.style.height = "0"; // this is added
    }
});

closeBtn.addEventListener('click', function() {
    searchOverlay.style.visibility = "hidden";
    searchOverlay.style.height = "0"; // this is added
});



  document.addEventListener('DOMContentLoaded', function() {
    updateCartDropdown();
    updateCartCount();
  });

  document.querySelector('.add-to-cart-btn').addEventListener('click', function() {
    // get product info
    var productName = document.querySelector('.productHeader').innerText;
    var productPrice = document.querySelector('.productPrice').innerText;
    var productImgSrc = document.querySelector('.zoom-container img').src;
    var productQuantity = document.querySelector('.quantity').value; // get quantity value
  
    var productPriceNumber = parseFloat(productPrice.replace('$', ''));  // convert the price to a number
  
    var product = {
      name: productName,
      price: productPriceNumber,
      quantity: parseInt(productQuantity),  // set quantity from input
      imgSrc: productImgSrc
    };
  
    addToCart(product);
  });
  
  

    function addToCart(product) {
        // get the current cart from localStorage
        var cart = JSON.parse(localStorage.getItem('cart')) || [];
    
        // check if product already exists in the cart
        var existingProduct = cart.find(function(item) {
            return item.name === product.name;
        });
    
        if (existingProduct) {
            // if product exists, increment quantity
            existingProduct.quantity += product.quantity;
        } else {
            // if product doesn't exist, add it to the cart
            cart.push(product);
        }
    
        // store the updated cart back into localStorage
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartDropdown();
    }

    function updateCartCount() {
      var cart = JSON.parse(localStorage.getItem('cart')) || [];
      var totalQuantity = cart.reduce(function(total, item) {
        return total + item.quantity;
      }, 0);
    
      document.querySelector('.cart-count').innerText = totalQuantity;
    }


    function createCartItemHTML(product) {
      return `
      <div class="product-Info">
        <div class="product-details">
        <img src="${product.imgSrc}" alt="${product.name}">
        <div class="productValues">
          <a href="#" class="nameValues">${product.name}</a>
          <span class="QPvalues">${product.quantity} x $${product.price}</span>
        </div>
      </div>
        <button class="remove-item" data-product="${product.name}">X</button>
      </div>
      `;
    }

    function updateCartDropdown() {
      // get cart from local storage
      var cart = JSON.parse(localStorage.getItem('cart')) || [];
    
      // get dropdown content element
      var dropdownContent = document.querySelector('.dropdown-content');
    
      // clear previous cart items from the dropdown
      dropdownContent.innerHTML = '';
    
      // get the empty message element
      var emptyMessage = document.querySelector('.emptyCartMessage2');
    
      // check if the cart is empty
      if (cart.length === 0) {
        // if the cart is empty, show the empty message and return early to exit the function
        dropdownContent.innerHTML = '<p class="emptyMessage2">Your cart is empty.</p>';
      } else {
        // create HTML for each product in the cart
        cart.forEach(function(product) {
          var productHTML = createCartItemHTML(product);
          dropdownContent.innerHTML += productHTML;
        });
    
        // calculate and display total price
        var totalPrice = cart.reduce(function(sum, product) {
          return sum + product.price * product.quantity;
        }, 0);
    
        dropdownContent.innerHTML += `<p class="dropdownSubtotal">Subtotal: $${totalPrice.toFixed(2)}</p>`;
      
        var dropdownButtons = document.createElement('div');
        dropdownButtons.className = 'dropdownButtons';
        dropdownButtons.innerHTML = `
          <a href="cart.html" class="dropdownCartButton">View Cart</a>
          <a href="checkout.html" class="dropdownCheckOutButton">Check Out</a>
        `;
        dropdownContent.appendChild(dropdownButtons);
      }
    }
    
    
    document.querySelector('.dropdown-content').addEventListener('click', function(event) {
      if (event.target.classList.contains('remove-item')) {
        var productName = event.target.dataset.product;
        removeFromCart(productName);
      }
    });
    
    function removeFromCart(productName) {
      var cart = JSON.parse(localStorage.getItem('cart')) || [];
      var updatedCart = cart.filter(function(product) {
        return product.name !== productName;
      });
      localStorage.setItem('cart', JSON.stringify(updatedCart));
      updateCartDropdown();
      updateCartCount();
    }
    
</script>
</body>
</html>